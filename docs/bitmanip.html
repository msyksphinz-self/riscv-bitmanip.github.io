

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>RISC-V Bit-Manipulation ISA-extensions &mdash; bitmanip  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> bitmanip
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">RISC-V Bit-Manipulation ISA-extensions</a><ul>
<li><a class="reference internal" href="#abcs">ビットマニピュレーションa、b、c、s拡張の公開レビューと批准のためのグループ化</a></li>
<li><a class="reference internal" href="#id1">ワード命令</a></li>
<li><a class="reference internal" href="#id2">命令セマンティクスのための疑似コード</a></li>
<li><a class="reference internal" href="#extensions">Extensions</a><ul>
<li><a class="reference internal" href="#zba-extension">Zba extension</a></li>
<li><a class="reference internal" href="#zbb-basic-bit-manipulation">Zbb: Basic bit-manipulation</a><ul>
<li><a class="reference internal" href="#id3">否定付き論理演算命令</a></li>
<li><a class="reference internal" href="#leading-trailing">Leading/Trailing ゼロビットカウント命令</a></li>
<li><a class="reference internal" href="#pop-count">Pop Count命令</a></li>
<li><a class="reference internal" href="#id4">整数最大値・最小値命令</a></li>
<li><a class="reference internal" href="#id5">符号拡張・ゼロ拡張命令</a></li>
<li><a class="reference internal" href="#id6">ローテート命令</a></li>
<li><a class="reference internal" href="#or">OR組み合わせ命令</a></li>
<li><a class="reference internal" href="#id7">バイト逆転命令</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zbc">Zbc: キャリー無し乗算命令</a></li>
<li><a class="reference internal" href="#zbs">Zbs: 単一ビット命令</a></li>
<li><a class="reference internal" href="#zbkc">Zbkc: 暗号向けキャリーレス乗算</a></li>
<li><a class="reference internal" href="#zbkx">Zbkx: クロスバ組み合わせ命令</a></li>
<li><a class="reference internal" href="#zbkb">Zbkb: 暗号化向けビット操作命令</a></li>
</ul>
</li>
<li><a class="reference internal" href="#instructions-in-alphabetical-order">Instructions (in alphabetical order)</a><ul>
<li><a class="reference internal" href="#add-uw">add.uw</a></li>
<li><a class="reference internal" href="#andn">andn</a></li>
<li><a class="reference internal" href="#bclr">bclr</a></li>
<li><a class="reference internal" href="#bclri">bclri</a></li>
<li><a class="reference internal" href="#bext">bext</a></li>
<li><a class="reference internal" href="#bexti">bexti</a></li>
<li><a class="reference internal" href="#binv">binv</a></li>
<li><a class="reference internal" href="#binvi">binvi</a></li>
<li><a class="reference internal" href="#bset">bset</a></li>
<li><a class="reference internal" href="#bseti">bseti</a></li>
<li><a class="reference internal" href="#clmul">clmul</a></li>
<li><a class="reference internal" href="#clmulh">clmulh</a></li>
<li><a class="reference internal" href="#clmulr">clmulr</a></li>
<li><a class="reference internal" href="#clz">clz</a></li>
<li><a class="reference internal" href="#clzw">clzw</a></li>
<li><a class="reference internal" href="#cpop">cpop</a></li>
<li><a class="reference internal" href="#cpopw">cpopw</a></li>
<li><a class="reference internal" href="#ctz">ctz</a></li>
<li><a class="reference internal" href="#ctzw">ctzw</a></li>
<li><a class="reference internal" href="#max">max</a></li>
<li><a class="reference internal" href="#maxu">maxu</a></li>
<li><a class="reference internal" href="#min">min</a></li>
<li><a class="reference internal" href="#minu">minu</a></li>
<li><a class="reference internal" href="#orc-b">orc.b</a></li>
<li><a class="reference internal" href="#orn">orn</a></li>
<li><a class="reference internal" href="#pack">pack</a></li>
<li><a class="reference internal" href="#packh">packh</a></li>
<li><a class="reference internal" href="#packw">packw</a></li>
<li><a class="reference internal" href="#rev8">rev8</a></li>
<li><a class="reference internal" href="#rev-b">rev.b</a></li>
<li><a class="reference internal" href="#rol">rol</a></li>
<li><a class="reference internal" href="#rolw">rolw</a></li>
<li><a class="reference internal" href="#ror">ror</a></li>
<li><a class="reference internal" href="#rori">rori</a></li>
<li><a class="reference internal" href="#roriw">roriw</a></li>
<li><a class="reference internal" href="#rorw">rorw</a></li>
<li><a class="reference internal" href="#sext-b">sext.b</a></li>
<li><a class="reference internal" href="#sext-h">sext.h</a></li>
<li><a class="reference internal" href="#sh1add">sh1add</a></li>
<li><a class="reference internal" href="#sh1add-uw">sh1add.uw</a></li>
<li><a class="reference internal" href="#sh2add">sh2add</a></li>
<li><a class="reference internal" href="#sh2add-uw">sh2add.uw</a></li>
<li><a class="reference internal" href="#sh3add">sh3add</a></li>
<li><a class="reference internal" href="#sh3add-uw">sh3add.uw</a></li>
<li><a class="reference internal" href="#slli-uw">slli.uw</a></li>
<li><a class="reference internal" href="#unzip">unzip</a></li>
<li><a class="reference internal" href="#xnor">xnor</a></li>
<li><a class="reference internal" href="#xperm-b">xperm.b</a></li>
<li><a class="reference internal" href="#xperm-n">xperm.n</a></li>
<li><a class="reference internal" href="#zext-h">zext.h</a></li>
<li><a class="reference internal" href="#zip">zip</a></li>
</ul>
</li>
<li><a class="reference internal" href="#software-optimization-guide">Software optimization guide</a><ul>
<li><a class="reference internal" href="#strlen">strlen</a></li>
<li><a class="reference internal" href="#strcmp">strcmp</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bitmanip</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>RISC-V Bit-Manipulation ISA-extensions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/bitmanip.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="risc-v-bit-manipulation-isa-extensions">
<h1>RISC-V Bit-Manipulation ISA-extensions<a class="headerlink" href="#risc-v-bit-manipulation-isa-extensions" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2023-08-07</td>
</tr>
</tbody>
</table>
<p>This document is released under the <a class="reference external" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0
International License</a>.</p>
<p>It describes the BitManip Zba, Zbb, Zbc and Zbs extensions being
submitted for public review.</p>
<div class="line-block">
<div class="line">Contributors to this specification (in alphabetical order) include:</div>
<div class="line">Jacob Bachmeyer, Allen Baum, Ari Ben, Alex Bradbury, Steven Braeger,
Rogier Brussee, Michael Clark, Ken Dockser, Paul Donahue, Dennis
Ferguson, Fabian Giesen, John Hauser, Robert Henry, Bruce Hoult,
Po-wei Huang, Ben Marshall, Rex McCrary, Lee Moore, Jiří Moravec,
Samuel Neves, Markus Oberhumer, Christopher Olson, Nils Pipenbrinck,
Joseph Rahmeh, Xue Saw, Tommy Thorn, Philipp Tomsich, Avishai Tvila,
Andrew Waterman, Thomas Wicki, and Claire Wolf.</div>
</div>
<p>We express our gratitude to everyone that contributed to, reviewed or
improved this specification through their comments and questions.</p>
<div class="section" id="abcs">
<h2>ビットマニピュレーションa、b、c、s拡張の公開レビューと批准のためのグループ化<a class="headerlink" href="#abcs" title="Permalink to this headline">¶</a></h2>
<p>ビットマニピュレーション(bitmanip)拡張は、ベースとなるRISC-Vアーキテクチャに対するいくつかのコンポーネント拡張で構成され、コードサイズの削減、性能向上、エネルギー削減の組み合わせを提供することを目的としている。
これらの命令は一般的に使用されることを意図しているが、いくつかの命令は他の命令よりもある領域で有用である。
そのため、1つの大きな拡張ではなく、いくつかの小さなbitmanip拡張が提供されている。
これらの小さな拡張はそれぞれ共通の機能と使用例によってグループ化され、それぞれ独自のZb*拡張名を持っている。</p>
<p>各 bitmanip
拡張は、同じような目的を持ち、しばしば同じロジックを共有することができるいくつかの
bitmanip 命令のグループを含む。
いくつかの命令は1つの拡張子で利用可能であり、他の命令は複数の拡張子で利用可能である。
命令は、それらが現れる拡張に依存しないニーモニックとエンコーディングを持つ。
したがって、重複する命令を持つ拡張機能を実装する場合、ロジックやエンコーディングに冗長性はない。</p>
<p>bitmanip拡張はRV32とRV64用に定義されている。
ほとんどの命令はRV128と前方互換性があると予想される。
シフト即値命令は最大6ビットの即値フィールドを持つように定義されているが、RV128で必要とされる場合には、エンコード空間に7ビット目が用意されている。</p>
</div>
<div class="section" id="id1">
<h2>ワード命令<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>bitmanip拡張は、 <em>w</em> 付き命令 (
_w_の前にドットがない)は入力の上位32ビットを無視し、最下位32ビットを符号付き値として演算し、符号をXLENに拡張した32ビットの符号付き結果を生成するというRV64の慣例に従っている。</p>
<p>接尾辞が <em>.uw</em> の Bitmanip 命令は、指定されたレジスタの最下位 32
ビットから抽出された符号なし 32 ビット値をオペランドとして持つ。
それ以外は、完全なXLEN演算を行う。</p>
<p>接尾辞 <em>.b</em> , <em>.h</em> , <em>.w</em> を持つbitmanip命令は、入力の最下位 8
ビット、16 ビット、32 ビット（それぞれ）のみを参照し、符号拡張された
XLEN幅の結果を生成する。
この結果は、特定の命令に基づいて符号拡張またはゼロ拡張される。</p>
</div>
<div class="section" id="id2">
<h2>命令セマンティクスのための疑似コード<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="#insns">Instructions (in alphabetical order)</a>
で記述される各命令のセマンティクスは、SAILの構文で記述される。</p>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h2>
<p>パブリック・レビューとして後悔されたbitmanipの最初のグループは以下である。</p>
<ul class="simple">
<li><a class="reference external" href="#zba">Address generation instructions</a></li>
<li><a class="reference external" href="#zbb">Basic bit-manipulation</a></li>
<li><a class="reference external" href="#zbc">Carry-less multiplication</a></li>
<li><a class="reference external" href="#zbs">Single-bit instructions</a></li>
</ul>
<p>以下は、これらの拡張に含まれるすべての命令(および擬似命令)のリストとそのマッピングの一覧である:</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="27%" />
<col width="42%" />
<col width="5%" />
<col width="5%" />
<col width="5%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
<th class="head">Z
b
a</th>
<th class="head">Z
b
b</th>
<th class="head">Z
b
c</th>
<th class="head">Z
b
s</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-add_uw">Add unsigned
word</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>andn <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-andn">AND with inverted
operand</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>clmul <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmul">Carry-less multiply
(lo
w-part)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>clmulh <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmulh">Carry-less multiply
(high
-part)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>clmulr <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmulr">Carry-less multiply
(rev
ersed)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>clz <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-clz">Count leading zero
bits</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>clzw <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-clzw">Count leading zero bits
in word</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>cpop <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-cpop">Count set
bits</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>cpopw <em>rd</em>,
<em>rs</em></td>
<td><a class="reference external" href="#insns-cpopw">Count set bits in
word</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>ctz <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-ctz">Count trailing zero
bits</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>ctzw <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-ctzw">Count trailing zero bits
in word</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>max <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-max">Maximum</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>maxu <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-maxu">Unsigned
maximum</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>min <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-min">Minimum</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>minu <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-minu">Unsigned
minimum</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>orc.b <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-orc_b">Bitwise OR-Combine, byte
granule</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>orn <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-orn">OR with inverted
operand</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>rev8 <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-rev8">Byte-reverse
register</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>rol <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-rol">Rotate left
(
Register)</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>rolw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-rolw">Rotate Left Word
(R
egister)</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>ror <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-ror">Rotate right
(
Register)</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>rori <em>rd</em>,
<em>rs1</em>, <em>shamt</em></td>
<td><a class="reference external" href="#insns-rori">Rotate right
(Im
mediate)</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>roriw <em>rd</em>,
<em>rs1</em>, <em>shamt</em></td>
<td><a class="reference external" href="#insns-roriw">Rotate right Word
(Imm
ediate)</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>rorw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-rorw">Rotate right Word
(R
egister)</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>bclr <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-bclr">Single-Bit Clear
(R
egister)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>bclri <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-bclri">Single-Bit Clear
(Imm
ediate)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>bext <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-bext">Single-Bit Extract
(R
egister)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>bexti <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-bexti">Single-Bit Extract
(Imm
ediate)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>binv <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-binv">Single-Bit Invert
(R
egister)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>binvi <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-binvi">Single-Bit Invert
(Imm
ediate)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>bset <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-bset">Single-Bit Set
(R
egister)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>bseti <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-bseti">Single-Bit Set
(Imm
ediate)</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>✓</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>sext.b <em>rd</em>,
<em>rs</em></td>
<td><a class="reference external" href="#insns-sext_b">Sign-extend
byte</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>sext.h <em>rd</em>,
<em>rs</em></td>
<td><a class="reference external" href="#insns-sext_h">Sign-extend
ha
lfword</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>sh1add <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh1add">Shift left by 1 and
add</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>sh1add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh1add_uw">Shift unsigned word left
by 1 and
add</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>sh2add <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh2add">Shift left by 2 and
add</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>sh2add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh2add_uw">Shift unsigned word left
by 2 and
add</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>sh3add <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh3add">Shift left by 3 and
add</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>sh3add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh3add_uw">Shift unsigned word left
by 3 and
add</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>slli.uw <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-slli_uw">Shift-left unsigned word
(Immed
iate)</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>xnor <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-xnor">Exclusive
NOR</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>zext.h <em>rd</em>,
<em>rs</em></td>
<td><a class="reference external" href="#insns-zext_h">Zero-extend
ha
lfword</a></td>
<td>&#160;</td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>zext.w <em>rd</em>,
<em>rs</em></td>
<td><a class="reference external" href="#insns-add_uw">Add unsigned
word</a></td>
<td>✓</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<div class="section" id="zba-extension">
<span id="zba"></span><h3>Zba extension<a class="headerlink" href="#zba-extension" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Zba extension is frozen.</p>
</div>
<p>Zba命令は、符号なしワードサイズとXLENサイズの両方のインデックスを使用して、基本タイプ(ハーフワード、ワード、ダブルワード)の配列にインデックスを付けるアドレスの生成を高速化するために使用できる。</p>
<p>シフト命令と加算命令で1、2、3の左シフトを行うのは、実際のコードで一般的であり、単純な加算器以上の最小限の追加ハードウェアで実装できるからである。
これにより、実装におけるクリティカル・パスが長くなるのを避けることができる。</p>
<p>シフト命令と加算命令の最大左シフト数は3に制限されているが、(ベースISAの)slli
命令を使用すると、より広い要素の配列にインデックスを付けるために同様のシフトを実行できる。
このサブ拡張で追加されたslli.uwは、インデックスを符号なしワードとして解釈する場合に使用できる。</p>
<p>Zba拡張は以下の命令で構成されている:</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-add_uw">Add unsigned word</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>sh1add <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh1add">Shift left by 1 and
add</a></td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>sh1add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh1add_uw">Shift unsigned word left by 1 and
add</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>sh2add <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh2add">Shift left by 2 and
add</a></td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>sh2add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh2add_uw">Shift unsigned word left by 2 and
add</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>sh3add <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh3add">Shift left by 3 and
add</a></td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>sh3add.uw <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-sh3add_uw">Shift unsigned word left by 3 and
add</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>slli.uw <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-slli_uw">Shift-left unsigned word
(Immediate)</a></td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>zext.w <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-add_uw">Add unsigned word</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zbb-basic-bit-manipulation">
<span id="zbb"></span><h3>Zbb: Basic bit-manipulation<a class="headerlink" href="#zbb-basic-bit-manipulation" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zbb拡張はFrozen状態である。</p>
</div>
<div class="section" id="id3">
<h4>否定付き論理演算命令<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>andn <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-andn">AND with inverted
operand</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>orn <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-orn">OR with inverted
operand</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>xnor <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-xnor">Exclusive NOR</a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Logical with Negate instructions can be implemented by inverting
the <em>rs2</em> inputs to the base-required AND, OR, and XOR logic
instructions. In some implementations, the inverter on rs2 used for
subtraction can be reused for this purpose.</p>
</div>
</div>
<div class="section" id="leading-trailing">
<h4>Leading/Trailing ゼロビットカウント命令<a class="headerlink" href="#leading-trailing" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>clz <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-clz">Count leading zero
bits</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>clzw <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-clzw">Count leading zero bits in
word</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>ctz <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-ctz">Count trailing zero
bits</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>ctzw <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-ctzw">Count trailing zero bits in
word</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pop-count">
<h4>Pop Count命令<a class="headerlink" href="#pop-count" title="Permalink to this headline">¶</a></h4>
<p>これらの命令はセットされている(ビットが1)の数を数える。
これは一般的にPopulation Countと呼ばれている。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>cpop <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-cpop">Count set bits</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>cpopw <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-cpopw">Count set bits in
word</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h4>整数最大値・最小値命令<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>整数最大値・最小値命令はR-typeの算術演算命令であり、
2つのオペランドの最大値・最小値を返す。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>max <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-max">Maximum</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>maxu <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-maxu">Unsigned maximum</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>min <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-min">Minimum</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>minu <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-minu">Unsigned minimum</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h4>符号拡張・ゼロ拡張命令<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>これらの命令はソース・レジスタの最下位8ビット、16ビット、32ビットを符号拡張もしくはゼロ拡張する。</p>
<p>これらの命令は、8ビットおよび16ビットのゼロ拡張時は
<code class="docutils literal notranslate"><span class="pre">slli</span> <span class="pre">rD,rs,(XLEN-&lt;size&gt;)</span> <span class="pre">+</span> <span class="pre">srli</span></code> 命令、
16ビットおよび32ビットの符号拡張時は <code class="docutils literal notranslate"><span class="pre">slli</span> <span class="pre">+</span> <span class="pre">srai</span></code>
という一般的なイディオムとして置き換えることができる。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>sext.b <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-sext_b">Sign-extend byte</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>sext.h <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-sext_h">Sign-extend
halfword</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>zext.h <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-zext_h">Zero-extend
halfword</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h4>ローテート命令<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>ビット単位の回転命令は、基本仕様のシフト論理演算に似ている。
ただし、シフトがゼロをシフトするのに対し、ローテート命令は値の反対側にシフトされたビットをシフトする。
このような操作は’循環シフト’とも呼ばれる。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>rol <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-rol">Rotate left
(Register)</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>rolw <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-rolw">Rotate Left Word
(Register)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>ror <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-ror">Rotate right
(Register)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>rori <em>rd</em>, <em>rs1</em>,
<em>shamt</em></td>
<td><a class="reference external" href="#insns-rori">Rotate right
(Immediate)</a></td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>roriw <em>rd</em>,
<em>rs1</em>, <em>shamt</em></td>
<td><a class="reference external" href="#insns-roriw">Rotate right Word
(Immediate)</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>rorw <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-rorw">Rotate right Word
(Register)</a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The rotate instructions were included to replace a common
four-instruction sequence to achieve the same effect (neg; sll/srl;
srl/sll; or)</p>
</div>
</div>
<div class="section" id="or">
<h4>OR組み合わせ命令<a class="headerlink" href="#or" title="Permalink to this headline">¶</a></h4>
<p><strong>orc.b</strong> は、結果 <em>rd</em> の各バイトのビットを、 <em>rs</em> の各バ
イト内のビットがセットされていなければすべてゼロに、 <em>rs</em> の各バ
イト内のビットがセットされていればすべて1にセットする。</p>
<p>使用例としては、 <strong>strlen</strong> や <strong>strcpy</strong> のような文字列処理関数がある。
ワード内の非ゼロのバイトのセットビットをカウントすることで、終端ゼロバイトをテストすることができる。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>orc.b <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-orc_b">Bitwise OR-Combine, byte
granule</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id7">
<h4>バイト逆転命令<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p><strong>rev8</strong> 命令は、 <em>rs</em> の倍との順序を逆転させる。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>rev8 <em>rd</em>, <em>rs</em></td>
<td><a class="reference external" href="#insns-rev8">Byte-reverse
register</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="zbc">
<span id="id8"></span><h3>Zbc: キャリー無し乗算命令<a class="headerlink" href="#zbc" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zbc拡張はFrozen状態である。</p>
</div>
<p>キャリー無し乗算はGF(2)上の多項式環における乗算である。</p>
<p><strong>clmul</strong> はキャリーレス積の下半分を生成し、 <strong>clmulh</strong> は 2✕XLEN
キャリーレス積の上半分を生成する。</p>
<p><strong>clmulr</strong> は 2✕XLEN キャリーレス積のビット 2✕XLEN-2:XLEN-1 を生成する。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>clmul <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmul">Carry-less multiply
(low-part)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>clmulh <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmulh">Carry-less multiply
(high-part)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>clmulr <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmulr">Carry-less multiply
(reversed)</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zbs">
<span id="id9"></span><h3>Zbs: 単一ビット命令<a class="headerlink" href="#zbs" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zbc拡張はFrozen状態である。</p>
</div>
<p>シングルビット命令は、レジスタの単一ビットをセット、クリア、反転、または抽出するメカニズムを提供する。
ビットはインデックスで指定する。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>bclr <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-bclr">Single-Bit Clear
(Register)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>bclri <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-bclri">Single-Bit Clear
(Immediate)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>bext <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-bext">Single-Bit Extract
(Register)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>bexti <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-bexti">Single-Bit Extract
(Immediate)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>binv <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-binv">Single-Bit Invert
(Register)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>binvi <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-binvi">Single-Bit Invert
(Immediate)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>bset <em>rd</em>, <em>rs1</em>,
<em>rs2</em></td>
<td><a class="reference external" href="#insns-bset">Single-Bit Set
(Register)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>bseti <em>rd</em>,
<em>rs1</em>, <em>imm</em></td>
<td><a class="reference external" href="#insns-bseti">Single-Bit Set
(Immediate)</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zbkc">
<span id="id10"></span><h3>Zbkc: 暗号向けキャリーレス乗算<a class="headerlink" href="#zbkc" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zbkc拡張はFrozen状態である。</p>
</div>
<p>キャリーレス乗算は、GF(2)上の多項式環における乗算である。
これはいくつかの暗号ワークロード、特にAES-GCM認証暗号化スキームにおいて重要な演算である。
この拡張は、このワークロードの一部であるGHASH演算を効率的に実装するために必要な命令のみを提供する。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>clmul <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmul">Carry-less multiply
(low-part)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>clmulh <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-clmulh">Carry-less multiply
(high-part)</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zbkx">
<span id="id11"></span><h3>Zbkx: クロスバ組み合わせ命令<a class="headerlink" href="#zbkx" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zbkx拡張はFrozen状態である。</p>
</div>
<p>これらの命令は、汎用レジスタ内の4ビットと8ビットの要素に対して”ルックアップテーブル”を実装する。
<em>rs1</em> はNビット・ワードのベクトルとして使用され、 <em>rs2</em> は <em>rs1</em>
へのNビット・インデックスのベクトルとして使用される。 <em>rs1</em> の要素は、
<em>rs2</em> のインデックス付き要素で置き換えられる。 <em>rs2</em>
へのインデックスが範囲外の場合はゼロとなる。</p>
<p>これらの命令は、Nビット対Nビットのブーリアン演算を表現したり、実行レイテンシが演算対象の(秘密)データに依存しないような、
秘密に依存するメモリアクセス(特にSBox)を持つ暗号コードを実装したりするのに便利である。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>xperm.n <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-xpermn">Crossbar permutation
(nibbles)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>xperm.b <em>rd</em>,
<em>rs1</em>, <em>rs2</em></td>
<td><a class="reference external" href="#insns-xpermb">Crossbar permutation
(bytes)</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zbkb">
<span id="id12"></span><h3>Zbkb: 暗号化向けビット操作命令<a class="headerlink" href="#zbkb" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zbkb拡張はFrozen状態である。</p>
</div>
<p>この拡張には、暗号ワークロードの実装の基本となる共通動作のための命令が含まれている。</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="28%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RV
32</th>
<th class="head">RV
64</th>
<th class="head">Mnemonic</th>
<th class="head">Instruction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>rol</td>
<td><a class="reference external" href="#insns-rol">Rotate left
(Register)</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>rolw</td>
<td><a class="reference external" href="#insns-rolw">Rotate Left Word
(Register)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>ror</td>
<td><a class="reference external" href="#insns-ror">Rotate right
(Register)</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>rori</td>
<td><a class="reference external" href="#insns-rori">Rotate right
(Immediate)</a></td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>✓</td>
<td>roriw</td>
<td><a class="reference external" href="#insns-roriw">Rotate right Word
(Immediate)</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>rorw</td>
<td><a class="reference external" href="#insns-rorw">Rotate right Word
(Register)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>andn</td>
<td><a class="reference external" href="#insns-andn">AND with inverted
operand</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>orn</td>
<td><a class="reference external" href="#insns-orn">OR with inverted
operand</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>xnor</td>
<td><a class="reference external" href="#insns-xnor">Exclusive NOR</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>pack</td>
<td><a class="reference external" href="#insns-pack">Pack low halves of
registers</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>packh</td>
<td><a class="reference external" href="#insns-packh">Pack low bytes of
registers</a></td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>✓</td>
<td>packw</td>
<td><a class="reference external" href="#insns-packw">Pack low 16-bits of registers
(RV64)</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>✓</td>
<td>rev.b</td>
<td><a class="reference external" href="#insns-revb">Reverse bits in
bytes</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>✓</td>
<td>rev8</td>
<td><a class="reference external" href="#insns-rev8">Byte-reverse
register</a></td>
</tr>
<tr class="row-even"><td>✓</td>
<td>&#160;</td>
<td>zip</td>
<td><a class="reference external" href="#insns-zip">Bit interleave</a></td>
</tr>
<tr class="row-odd"><td>✓</td>
<td>&#160;</td>
<td>unzip</td>
<td><a class="reference external" href="#insns-unzip">Bit deinterleave</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="instructions-in-alphabetical-order">
<span id="insns"></span><h2>Instructions (in alphabetical order)<a class="headerlink" href="#instructions-in-alphabetical-order" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add-uw">
<span id="insns-add-uw"></span><h3>add.uw<a class="headerlink" href="#add-uw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Add unsigned word</dd>
<dt>Mnemonic</dt>
<dd>add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
<dt>Pseudoinstructions</dt>
<dd>zext.w <em>rd</em>, <em>rs1</em> → add.uw <em>rd</em>, <em>rs1</em>, zero</dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">find</span> <span class="n">the</span> <span class="s1">&#39;WaveDromEditor&#39;</span> <span class="n">executable</span> <span class="ow">in</span> <span class="n">PATH</span><span class="p">;</span> <span class="n">add</span> <span class="n">it</span> <span class="n">to</span> <span class="n">the</span> <span class="n">PATH</span> <span class="ow">or</span> <span class="n">specify</span> <span class="n">its</span> <span class="n">location</span> <span class="n">using</span> <span class="n">the</span> <span class="s1">&#39;WaveDromEditor&#39;</span> <span class="n">document</span> <span class="n">attribute</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x0</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x04</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs an XLEN-wide addition between <em>rs2</em> and the
zero-extended least-significant word of <em>rs1</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="andn">
<span id="insns-andn"></span><h3>andn<a class="headerlink" href="#andn" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>AND with inverted operand</dd>
<dt>Mnemonic</dt>
<dd>andn <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x7</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ANDN&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ANDN&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs the bitwise logical AND operation between
<em>rs1</em> and the bitwise inversion of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bclr">
<span id="insns-bclr"></span><h3>bclr<a class="headerlink" href="#bclr" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Clear (Register)</dd>
<dt>Mnemonic</dt>
<dd>bclr <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLR&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLR/BEXT&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns <em>rs1</em> with a single bit cleared at the index
specified in <em>rs2</em>. The index is read from the lower log2(XLEN) bits
of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bclri">
<span id="insns-bclri"></span><h3>bclri<a class="headerlink" href="#bclri" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Clear (Immediate)</dd>
<dt>Mnemonic</dt>
<dd>bclri <em>rd</em>, <em>rs1</em>, <em>shamt</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLRI&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLRI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLRI&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x12</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLRI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns <em>rs1</em> with a single bit cleared at the index
specified in <em>shamt</em>. The index is read from the lower log2(XLEN)
bits of <em>shamt</em>. For RV32, the encodings corresponding to shamt[5]=1
are reserved.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bext">
<span id="insns-bext"></span><h3>bext<a class="headerlink" href="#bext" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Extract (Register)</dd>
<dt>Mnemonic</dt>
<dd>bext <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BEXT&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BCLR/BEXT&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns a single bit extracted from <em>rs1</em> at the
index specified in <em>rs2</em>. The index is read from the lower log2(XLEN)
bits of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bexti">
<span id="insns-bexti"></span><h3>bexti<a class="headerlink" href="#bexti" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Extract (Immediate)</dd>
<dt>Mnemonic</dt>
<dd>bexti <em>rd</em>, <em>rs1</em>, <em>shamt</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BEXTI&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BEXTI/BCLRI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BEXTI&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x12</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BEXTI/BCLRI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns a single bit extracted from <em>rs1</em> at the
index specified in <em>rs2</em>. The index is read from the lower log2(XLEN)
bits of <em>shamt</em>. For RV32, the encodings corresponding to shamt[5]=1
are reserved.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="binv">
<span id="insns-binv"></span><h3>binv<a class="headerlink" href="#binv" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Invert (Register)</dd>
<dt>Mnemonic</dt>
<dd>binv <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BINV&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x34</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BINV&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns <em>rs1</em> with a single bit inverted at the
index specified in <em>rs2</em>. The index is read from the lower log2(XLEN)
bits of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="binvi">
<span id="insns-binvi"></span><h3>binvi<a class="headerlink" href="#binvi" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Invert (Immediate)</dd>
<dt>Mnemonic</dt>
<dd>binvi <em>rd</em>, <em>rs1</em>, <em>shamt</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BINV&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x34</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BINVI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BINV&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1a</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BINVI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns <em>rs1</em> with a single bit inverted at the
index specified in <em>shamt</em>. The index is read from the lower
log2(XLEN) bits of <em>shamt</em>. For RV32, the encodings corresponding to
shamt[5]=1 are reserved.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bset">
<span id="insns-bset"></span><h3>bset<a class="headerlink" href="#bset" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Set (Register)</dd>
<dt>Mnemonic</dt>
<dd>bset <em>rd</em>, <em>rs1</em>,<em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSET&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x14</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSET&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns <em>rs1</em> with a single bit set at the index
specified in <em>rs2</em>. The index is read from the lower log2(XLEN) bits
of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bseti">
<span id="insns-bseti"></span><h3>bseti<a class="headerlink" href="#bseti" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Single-Bit Set (Immediate)</dd>
<dt>Mnemonic</dt>
<dd>bseti <em>rd</em>, <em>rs1</em>,<em>shamt</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSETI&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x14</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSETI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSETI&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x0a</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSETI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns <em>rs1</em> with a single bit set at the index
specified in <em>shamt</em>. The index is read from the lower log2(XLEN)
bits of <em>shamt</em>. For RV32, the encodings corresponding to shamt[5]=1
are reserved.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbs (<a class="reference external" href="#zbs">Single-bit
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="clmul">
<span id="insns-clmul"></span><h3>clmul<a class="headerlink" href="#clmul" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Carry-less multiply (low-part)</dd>
<dt>Mnemonic</dt>
<dd>clmul <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>clmul produces the lower half of the 2·XLEN carry-less product.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbc (<a class="reference external" href="#zbc">Carry-less
multiplication</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkc (<a class="reference external" href="#zbkc">Carry-less multiplication
for Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="clmulh">
<span id="insns-clmulh"></span><h3>clmulh<a class="headerlink" href="#clmulh" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Carry-less multiply (high-part)</dd>
<dt>Mnemonic</dt>
<dd>clmulh <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLMULH&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>clmulh produces the upper half of the 2·XLEN carry-less product.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbc (<a class="reference external" href="#zbc">Carry-less
multiplication</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkc (<a class="reference external" href="#zbkc">Carry-less multiplication
for Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="clmulr">
<span id="insns-clmulr"></span><h3>clmulr<a class="headerlink" href="#clmulr" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Carry-less multiply (reversed)</dd>
<dt>Mnemonic</dt>
<dd>clmulr <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x2</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLMULR&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd><strong>clmulr</strong> produces bits 2·XLEN−2:XLEN-1 of the 2·XLEN carry-less
product.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <strong>clmulr</strong> instruction is used to accelerate CRC calculations.
The <strong>r</strong> in the instruction’s mnemonic stands for <em>reversed</em>, as the
instruction is equivalent to bit-reversing the inputs, performing a
<strong>clmul</strong>, then bit-reversing the output.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbc (<a class="reference external" href="#zbc">Carry-less
multiplication</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="clz">
<span id="insns-clz"></span><h3>clz<a class="headerlink" href="#clz" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Count leading zero bits</dd>
<dt>Mnemonic</dt>
<dd>clz <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLZ&#39;</span><span class="p">]</span>  <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x0</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLZ&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLZ&#39;</span><span class="p">]</span>  <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction counts the number of 0’s before the first 1,
starting at the most-significant bit (i.e., XLEN-1) and progressing
to bit 0. Accordingly, if the input is 0, the output is XLEN, and if
the most-significant bit of the input is a 1, the output is 0.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="clzw">
<span id="insns-clzw"></span><h3>clzw<a class="headerlink" href="#clzw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Count leading zero bits in word</dd>
<dt>Mnemonic</dt>
<dd>clzw <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLZW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x0</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLZW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CLZW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction counts the number of 0’s before the first 1 starting
at bit 31 and progressing to bit 0. Accordingly, if the
least-significant word is 0, the output is 32, and if the
most-significant bit of the word (i.e., bit 31) is a 1, the output is
0.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cpop">
<span id="insns-cpop"></span><h3>cpop<a class="headerlink" href="#cpop" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Count set bits</dd>
<dt>Mnemonic</dt>
<dd>cpop <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPOP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x2</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPOP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPOP&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instructions counts the number of 1’s (i.e., set bits) in the
source register.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This operations is known as population count, popcount, sideways sum,
bit summation, or Hamming weight.</p>
<p class="last">The GCC builtin function <code class="docutils literal notranslate"><span class="pre">__builtin_popcount</span> <span class="pre">(unsigned</span> <span class="pre">int</span> <span class="pre">x)</span></code> is
implemented by cpop on RV32 and by <strong>cpopw</strong> on RV64. The GCC builtin
function <code class="docutils literal notranslate"><span class="pre">__builtin_popcountl</span> <span class="pre">(unsigned</span> <span class="pre">long</span> <span class="pre">x)</span></code> for LP64 is
implemented by <strong>cpop</strong> on RV64.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cpopw">
<span id="insns-cpopw"></span><h3>cpopw<a class="headerlink" href="#cpopw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Count set bits in word</dd>
<dt>Mnemonic</dt>
<dd>cpopw <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPOPW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x2</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPOPW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPOPW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instructions counts the number of 1’s (i.e., set bits) in the
least-significant word of the source register.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ctz">
<span id="insns-ctz"></span><h3>ctz<a class="headerlink" href="#ctz" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Count trailing zeros</dd>
<dt>Mnemonic</dt>
<dd>ctz <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTZ/CTZW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTZ/CTZW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTZ/CTZW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction counts the number of 0’s before the first 1,
starting at the least-significant bit (i.e., 0) and progressing to
the most-significant bit (i.e., XLEN-1). Accordingly, if the input is
0, the output is XLEN, and if the least-significant bit of the input
is a 1, the output is 0.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ctzw">
<span id="insns-ctzw"></span><h3>ctzw<a class="headerlink" href="#ctzw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Count trailing zero bits in word</dd>
<dt>Mnemonic</dt>
<dd>ctzw <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTZ/CTZW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTZ/CTZW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CTZ/CTZW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction counts the number of 0’s before the first 1,
starting at the least-significant bit (i.e., 0) and progressing to
the most-significant bit of the least-significant word (i.e., 31).
Accordingly, if the least-significant word is 0, the output is 32,
and if the least-significant bit of the input is a 1, the output is
0.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="max">
<span id="insns-max"></span><h3>max<a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Maximum</dd>
<dt>Mnemonic</dt>
<dd>max <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x6</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MAX&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x05</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns the larger of two signed integers.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Calculating the absolute value of a signed integer can be performed
using the following sequence: <strong>neg rD,rS</strong> followed by <strong>max
rD,rS,rD</strong>. When using this common sequence, it is suggested that
they are scheduled with no intervening instructions so that
implementations that are so optimized can fuse them together.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="maxu">
<span id="insns-maxu"></span><h3>maxu<a class="headerlink" href="#maxu" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Unsigned maximum</dd>
<dt>Mnemonic</dt>
<dd>maxu <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x7</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MAXU&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x05</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns the larger of two unsigned integers.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="min">
<span id="insns-min"></span><h3>min<a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Minimum</dd>
<dt>Mnemonic</dt>
<dd>min <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MIN&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x05</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns the smaller of two signed integers.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="minu">
<span id="insns-minu"></span><h3>minu<a class="headerlink" href="#minu" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Unsigned minimum</dd>
<dt>Mnemonic</dt>
<dd>minu <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINU&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x05</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MINMAX/CLMUL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction returns the smaller of two unsigned integers.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="orc-b">
<span id="insns-orc-b"></span><h3>orc.b<a class="headerlink" href="#orc-b" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Bitwise OR-Combine, byte granule</dd>
<dt>Mnemonic</dt>
<dd>orc.b <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x287</span> <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>Combines the bits within each byte using bitwise logical OR. This
sets the bits of each byte in the result <em>rd</em> to all zeros if no bit
within the respective byte of <em>rs</em> is set, or to all ones if any bit
within the respective byte of <em>rs</em> is set.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="orn">
<span id="insns-orn"></span><h3>orn<a class="headerlink" href="#orn" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>OR with inverted operand</dd>
<dt>Mnemonic</dt>
<dd>orn <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x6</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ORN&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ORN&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs the bitwise logical OR operation between
<em>rs1</em> and the bitwise inversion of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pack">
<span id="insns-pack"></span><h3>pack<a class="headerlink" href="#pack" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Pack the low halves of <em>rs1</em> and <em>rs2</em> into <em>rd</em>.</dd>
<dt>Mnemonic</dt>
<dd>pack <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:[</span><span class="s1">&#39;PACK&#39;</span><span class="p">]},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:[</span><span class="s1">&#39;PACK&#39;</span><span class="p">]},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>The pack instruction packs the XLEN/2-bit lower halves of <em>rs1</em> and
<em>rs2</em> into <em>rd</em>, with <em>rs1</em> in the lower half and <em>rs2</em> in the upper
half.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="packh">
<span id="insns-packh"></span><h3>packh<a class="headerlink" href="#packh" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Pack the low bytes of <em>rs1</em> and <em>rs2</em> into <em>rd</em>.</dd>
<dt>Mnemonic</dt>
<dd>packh <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x7</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;PACKH&#39;</span><span class="p">]},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;PACKH&#39;</span><span class="p">]},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>And the packh instruction packs the least-significant bytes of <em>rs1</em>
and <em>rs2</em> into the 16 least-significant bits of <em>rd</em>, zero extending
the rest of <em>rd</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="packw">
<span id="insns-packw"></span><h3>packw<a class="headerlink" href="#packw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Pack the low 16-bits of <em>rs1</em> and <em>rs2</em> into <em>rd</em> on RV64.</dd>
<dt>Mnemonic</dt>
<dd>packw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0xe</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction packs the low 16 bits of <em>rs1</em> and <em>rs2</em> into the 32
least-significant bits of <em>rd</em>, sign extending the 32-bit result to
the rest of <em>rd</em>. This instruction only exists on RV64 based systems.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rev8">
<span id="insns-rev8"></span><h3>rev8<a class="headerlink" href="#rev8" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Byte-reverse register</dd>
<dt>Mnemonic</dt>
<dd>rev8 <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x698</span> <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x6b8</span> <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction reverses the order of the bytes in <em>rs</em>.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <strong>rev8</strong> mnemonic corresponds to different instruction encodings
in RV32 and RV64.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The byte-reverse operation is only available for the full register
width. To emulate word-sized and halfword-sized byte-reversal,
perform a <code class="docutils literal notranslate"><span class="pre">rev8</span> <span class="pre">rd,rs</span></code> followed by a <code class="docutils literal notranslate"><span class="pre">srai</span> <span class="pre">rd,rd,K</span></code>, where K is
XLEN-32 and XLEN-16, respectively.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rev-b">
<span id="insns-revb"></span><h3>rev.b<a class="headerlink" href="#rev-b" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Reverse the bits in each byte of a source register.</dd>
<dt>Mnemonic</dt>
<dd>rev.b <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x687</span> <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction reverses the order of the bits in every byte of a
register.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rol">
<span id="insns-rol"></span><h3>rol<a class="headerlink" href="#rol" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Rotate Left (Register)</dd>
<dt>Mnemonic</dt>
<dd>rol <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ROL&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ROL&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs a rotate left of <em>rs1</em> by the amount in
least-significant log2(XLEN) bits of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rolw">
<span id="insns-rolw"></span><h3>rolw<a class="headerlink" href="#rolw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Rotate Left Word (Register)</dd>
<dt>Mnemonic</dt>
<dd>rolw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ROLW&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ROLW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs a rotate left on the least-significant word
of <em>rs1</em> by the amount in least-significant 5 bits of <em>rs2</em>. The
resulting word value is sign-extended by copying bit 31 to all of the
more-significant bits.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ror">
<span id="insns-ror"></span><h3>ror<a class="headerlink" href="#ror" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Rotate Right</dd>
<dt>Mnemonic</dt>
<dd>ror <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ROR&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ROR&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs a rotate right of <em>rs1</em> by the amount in
least-significant log2(XLEN) bits of <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rori">
<span id="insns-rori"></span><h3>rori<a class="headerlink" href="#rori" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Rotate Right (Immediate)</dd>
<dt>Mnemonic</dt>
<dd>rori <em>rd</em>, <em>rs1</em>, <em>shamt</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORI&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORI&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x18</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORI&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs a rotate right of <em>rs1</em> by the amount in
the least-significant log2(XLEN) bits of <em>shamt</em>. For RV32, the
encodings corresponding to shamt[5]=1 are reserved.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="roriw">
<span id="insns-roriw"></span><h3>roriw<a class="headerlink" href="#roriw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Rotate Right Word by Immediate</dd>
<dt>Mnemonic</dt>
<dd>roriw <em>rd</em>, <em>rs1</em>, <em>shamt</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORIW&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORIW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs a rotate right on the least-significant
word of <em>rs1</em> by the amount in the least-significant log2(XLEN) bits
of <em>shamt</em>. The resulting word value is sign-extended by copying bit
31 to all of the more-significant bits.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rorw">
<span id="insns-rorw"></span><h3>rorw<a class="headerlink" href="#rorw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Rotate Right Word (Register)</dd>
<dt>Mnemonic</dt>
<dd>rorw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORW&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;RORW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs a rotate right on the least-significant
word of <em>rs1</em> by the amount in least-significant 5 bits of <em>rs2</em>. The
resultant word is sign-extended by copying bit 31 to all of the
more-significant bits.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sext-b">
<span id="insns-sext-b"></span><h3>sext.b<a class="headerlink" href="#sext-b" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Sign-extend byte</dd>
<dt>Mnemonic</dt>
<dd>sext.b <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SEXT.B/SEXT.H&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x04</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SEXT.B&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction sign-extends the least-significant byte in the
source to XLEN by copying the most-significant bit in the byte (i.e.,
bit 7) to all of the more-significant bits.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sext-h">
<span id="insns-sext-h"></span><h3>sext.h<a class="headerlink" href="#sext-h" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Sign-extend halfword</dd>
<dt>Mnemonic</dt>
<dd>sext.h <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x13</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SEXT.B/SEXT.H&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x05</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SEXT.H&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x30</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction sign-extends the least-significant halfword in <em>rs</em>
to XLEN by copying the most-significant bit in the halfword (i.e.,
bit 15) to all of the more-significant bits.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sh1add">
<span id="insns-sh1add"></span><h3>sh1add<a class="headerlink" href="#sh1add" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift left by 1 and add</dd>
<dt>Mnemonic</dt>
<dd>sh1add <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x2</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH1ADD&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x10</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH1ADD&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction shifts <em>rs1</em> to the left by 1 bit and adds it to
<em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sh1add-uw">
<span id="insns-sh1add-uw"></span><h3>sh1add.uw<a class="headerlink" href="#sh1add-uw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift unsigned word left by 1 and add</dd>
<dt>Mnemonic</dt>
<dd>sh1add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x2</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH1ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x10</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH1ADD.UW&#39;</span><span class="p">]</span>  <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs an XLEN-wide addition of two addends. The
first addend is <em>rs2</em>. The second addend is the unsigned value formed
by extracting the least-significant word of <em>rs1</em> and shifting it
left by 1 place.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sh2add">
<span id="insns-sh2add"></span><h3>sh2add<a class="headerlink" href="#sh2add" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift left by 2 and add</dd>
<dt>Mnemonic</dt>
<dd>sh2add <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH2ADD&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x10</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH2ADD&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction shifts <em>rs1</em> to the left by 2 places and adds it to
<em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sh2add-uw">
<span id="insns-sh2add-uw"></span><h3>sh2add.uw<a class="headerlink" href="#sh2add-uw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift unsigned word left by 2 and add</dd>
<dt>Mnemonic</dt>
<dd>sh2add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH2ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x10</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH2ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs an XLEN-wide addition of two addends. The
first addend is <em>rs2</em>. The second addend is the unsigned value formed
by extracting the least-significant word of <em>rs1</em> and shifting it
left by 2 places.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sh3add">
<span id="insns-sh3add"></span><h3>sh3add<a class="headerlink" href="#sh3add" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift left by 3 and add</dd>
<dt>Mnemonic</dt>
<dd>sh3add <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x6</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH3ADD&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x10</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH3ADD&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction shifts <em>rs1</em> to the left by 3 places and adds it to
<em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sh3add-uw">
<span id="insns-sh3add-uw"></span><h3>sh3add.uw<a class="headerlink" href="#sh3add-uw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift unsigned word left by 3 and add</dd>
<dt>Mnemonic</dt>
<dd>sh3add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x6</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH3ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x10</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SH3ADD.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs an XLEN-wide addition of two addends. The
first addend is <em>rs2</em>. The second addend is the unsigned value formed
by extracting the least-significant word of <em>rs1</em> and shifting it
left by 3 places.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="slli-uw">
<span id="insns-slli-uw"></span><h3>slli.uw<a class="headerlink" href="#slli-uw" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Shift-left unsigned word (Immediate)</dd>
<dt>Mnemonic</dt>
<dd>slli.uw <em>rd</em>, <em>rs1</em>, <em>shamt</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-IMM-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SLLI.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;shamt&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">6</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x02</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SLLI.UW&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction takes the least-significant word of <em>rs1</em>,
zero-extends it, and shifts it left by the immediate.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zba (<a class="reference external" href="#zba">Address generation
instructions</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This instruction is the same as <strong>slli</strong> with <strong>zext.w</strong> performed on
<em>rs1</em> before shifting.</p>
</div>
</div>
<div class="section" id="unzip">
<span id="insns-unzip"></span><h3>unzip<a class="headerlink" href="#unzip" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Implements the inverse of the zip instruction.</dd>
<dt>Mnemonic</dt>
<dd>unzip <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x5</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1f</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction gathers bits from the high and low halves of the
source word into odd/even bit positions in the destination word. It
is the inverse of the <a class="reference external" href="#insns-zip">zip</a> instruction. This
instruction is available only on RV32.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This instruction is useful for implementing the SHA3 cryptographic
hash function on a 32-bit architecture, as it implements the
bit-interleaving operation used to speed up the 64-bit rotations
directly.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>) (RV32)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xnor">
<span id="insns-xnor"></span><h3>xnor<a class="headerlink" href="#xnor" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Exclusive NOR</dd>
<dt>Mnemonic</dt>
<dd>xnor <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;XNOR&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;XNOR&#39;</span><span class="p">]</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction performs the bit-wise exclusive-NOR operation on
<em>rs1</em> and <em>rs2</em>.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
<tr class="row-odd"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xperm-b">
<span id="insns-xpermb"></span><h3>xperm.b<a class="headerlink" href="#xperm-b" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Byte-wise lookup of indices into a vector in registers.</dd>
<dt>Mnemonic</dt>
<dd>xperm.b <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0xc</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x14</span><span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>The xperm.b instruction operates on bytes. The <em>rs1</em> register
contains a vector of XLEN/8 8-bit elements. The <em>rs2</em> register
contains a vector of XLEN/8 8-bit indexes. The result is each element
in <em>rs2</em> replaced by the indexed element in <em>rs1</em>, or zero if the
index into <em>rs2</em> is out of bounds.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkx (<a class="reference external" href="#zbkx">Crossbar
permutations</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xperm-n">
<span id="insns-xpermn"></span><h3>xperm.n<a class="headerlink" href="#xperm-n" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Nibble-wise lookup of indices into a vector.</dd>
<dt>Mnemonic</dt>
<dd>xperm.n <em>rd</em>, <em>rs1</em>, <em>rs2</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0xc</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x2</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs2&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x14</span><span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>The xperm.n instruction operates on nibbles. The <em>rs1</em> register
contains a vector of XLEN/4 4-bit elements. The <em>rs2</em> register
contains a vector of XLEN/4 4-bit indexes. The result is each element
in <em>rs2</em> replaced by the indexed element in <em>rs1</em>, or zero if the
index into <em>rs2</em> is out of bounds.</dd>
</dl>
<p>Operation</p>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkx (<a class="reference external" href="#zbkx">Crossbar
permutations</a>)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zext-h">
<span id="insns-zext-h"></span><h3>zext.h<a class="headerlink" href="#zext-h" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Zero-extend halfword</dd>
<dt>Mnemonic</dt>
<dd>zext.h <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding (RV32)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x33</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ZEXT.H&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x00</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x04</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Encoding (RV64)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;OP-32&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ZEXT.H&#39;</span><span class="p">]},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x00</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">bits</span><span class="p">:</span>  <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x04</span> <span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction zero-extends the least-significant halfword of the
source to XLEN by inserting 0’s into all of the bits more significant
than 15.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <strong>zext.h</strong> mnemonic corresponds to different instruction
encodings in RV32 and RV64.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbb (<a class="reference external" href="#zbb">Basic
bit-manipulation</a>)</td>
<td>0.93</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zip">
<span id="insns-zip"></span><h3>zip<a class="headerlink" href="#zip" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Synopsis</dt>
<dd>Gather odd and even bits of the source word into upper/lower halves
of the destination.</dd>
<dt>Mnemonic</dt>
<dd>zip <em>rd</em>, <em>rs</em></dd>
</dl>
<p>Encoding</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">image</span><span class="p">:</span> <span class="n">no</span> <span class="n">implicit</span> <span class="n">conversion</span> <span class="n">of</span> <span class="n">nil</span> <span class="n">into</span> <span class="n">String</span>
<span class="p">{</span><span class="n">reg</span><span class="p">:[</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x3</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rd&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;rs1&#39;</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x1e</span><span class="p">},</span>
<span class="p">{</span><span class="n">bits</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="mh">0x4</span><span class="p">},</span>
<span class="p">]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Description</dt>
<dd>This instruction scatters all of the odd and even bits of a source
word into the high and low halves of a destination word. It is the
inverse of the <a class="reference external" href="#insns-unzip">unzip</a> instruction. This instruction
is available only on RV32.</dd>
</dl>
<p>Operation</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This instruction is useful for implementing the SHA3 cryptographic
hash function on a 32-bit architecture, as it implements the
bit-interleaving operation used to speed up the 64-bit rotations
directly.</p>
</div>
<p>Included in</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">Minimum version</th>
<th class="head">Lifecycle state</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Zbkb (<a class="reference external" href="#zbkb">Bit-manipulation for
Cryptography</a>) (RV32)</td>
<td>v0.9.4</td>
<td>Frozen</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="software-optimization-guide">
<h2>Software optimization guide<a class="headerlink" href="#software-optimization-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="strlen">
<h3>strlen<a class="headerlink" href="#strlen" title="Permalink to this headline">¶</a></h3>
<p>The <strong>orc.b</strong> instruction allows for the efficient detection of <strong>NUL</strong>
bytes in an XLEN-sized chunk of data:</p>
<ul class="simple">
<li>the result of <strong>orc.b</strong> on a chunk that does not contain any <strong>NUL</strong>
bytes will be all-ones, and</li>
<li>after a bitwise-negation of the result of <strong>orc.b</strong>, the number of
data bytes before the first <strong>NUL</strong> byte (if any) can be detected by
<strong>ctz</strong>/<strong>clz</strong> (depending on the endianness of data).</li>
</ul>
<p>A full example of a <strong>strlen</strong> function, which uses these techniques and
also demonstrates the use of it for unaligned/partial data, is the
following:</p>
<div class="code asm highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;sys/asm.h&gt;</span>

    <span class="o">.</span><span class="n">text</span>
    <span class="o">.</span><span class="n">globl</span> <span class="n">strlen</span>
    <span class="o">.</span><span class="n">type</span>  <span class="n">strlen</span><span class="p">,</span> <span class="nd">@function</span>
<span class="n">strlen</span><span class="p">:</span>
    <span class="n">andi</span>    <span class="n">a3</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="p">(</span><span class="n">SZREG</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>   <span class="o">//</span> <span class="n">offset</span>
    <span class="n">andi</span>    <span class="n">a1</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="o">-</span><span class="n">SZREG</span>      <span class="o">//</span> <span class="n">align</span> <span class="n">pointer</span>
<span class="o">.</span><span class="n">Lprologue</span><span class="p">:</span>
    <span class="n">li</span>      <span class="n">a4</span><span class="p">,</span> <span class="n">SZREG</span>
    <span class="n">sub</span>     <span class="n">a4</span><span class="p">,</span> <span class="n">a4</span><span class="p">,</span> <span class="n">a3</span>          <span class="o">//</span> <span class="n">XLEN</span> <span class="o">-</span> <span class="n">offset</span>
    <span class="n">slli</span>    <span class="n">a3</span><span class="p">,</span> <span class="n">a3</span><span class="p">,</span> <span class="n">PTRLOG</span>      <span class="o">//</span> <span class="n">offset</span> <span class="o">*</span> <span class="mi">8</span>
    <span class="n">REG_L</span>   <span class="n">a2</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>           <span class="o">//</span> <span class="n">chunk</span>
    <span class="o">/*</span>
     <span class="o">*</span> <span class="n">Shift</span> <span class="n">the</span> <span class="n">partial</span><span class="o">/</span><span class="n">unaligned</span> <span class="n">chunk</span> <span class="n">we</span> <span class="n">loaded</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">the</span> <span class="nb">bytes</span>
     <span class="o">*</span> <span class="kn">from</span> <span class="nn">before</span> <span class="n">the</span> <span class="n">start</span> <span class="n">of</span> <span class="n">the</span> <span class="n">string</span><span class="p">,</span> <span class="n">adding</span> <span class="n">NUL</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span><span class="o">.</span>
     <span class="o">*/</span>
<span class="c1">#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
    <span class="n">srl</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span> <span class="p">,</span><span class="n">a3</span>          <span class="o">//</span> <span class="n">chunk</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="n">offset</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span>
<span class="c1">#else</span>
    <span class="n">sll</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span>
<span class="c1">#endif</span>
    <span class="n">orc</span><span class="o">.</span><span class="n">b</span>   <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
    <span class="ow">not</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
    <span class="o">/*</span>
     <span class="o">*</span> <span class="n">Non</span><span class="o">-</span><span class="n">NUL</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">string</span> <span class="n">have</span> <span class="n">been</span> <span class="n">expanded</span> <span class="n">to</span> <span class="mh">0x00</span><span class="p">,</span> <span class="k">while</span>
     <span class="o">*</span> <span class="n">NUL</span> <span class="nb">bytes</span> <span class="n">have</span> <span class="n">become</span> <span class="mh">0xff</span><span class="o">.</span>  <span class="n">Search</span> <span class="k">for</span> <span class="n">the</span> <span class="n">first</span> <span class="nb">set</span> <span class="n">bit</span>
     <span class="o">*</span> <span class="p">(</span><span class="n">corresponding</span> <span class="n">to</span> <span class="n">a</span> <span class="n">NUL</span> <span class="n">byte</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">original</span> <span class="n">chunk</span><span class="p">)</span><span class="o">.</span>
     <span class="o">*/</span>
<span class="c1">#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
    <span class="n">ctz</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
<span class="c1">#else</span>
    <span class="n">clz</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
<span class="c1">#endif</span>
    <span class="o">/*</span>
     <span class="o">*</span> <span class="n">The</span> <span class="n">first</span> <span class="n">chunk</span> <span class="ow">is</span> <span class="n">special</span><span class="p">:</span> <span class="n">compare</span> <span class="n">against</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">valid</span>
     <span class="o">*</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">chunk</span><span class="o">.</span>
     <span class="o">*/</span>
    <span class="n">srli</span>    <span class="n">a0</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="mi">3</span>
    <span class="n">bgtu</span>    <span class="n">a4</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="o">.</span><span class="n">Ldone</span>
    <span class="n">addi</span>    <span class="n">a3</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">SZREG</span>
    <span class="n">li</span>      <span class="n">a4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
    <span class="o">.</span><span class="n">align</span> <span class="mi">2</span>
    <span class="o">/*</span>
     <span class="o">*</span> <span class="n">Our</span> <span class="n">critical</span> <span class="n">loop</span> <span class="ow">is</span> <span class="mi">4</span> <span class="n">instructions</span> <span class="ow">and</span> <span class="n">processes</span> <span class="n">data</span> <span class="ow">in</span> <span class="mi">4</span> <span class="n">byte</span>
     <span class="o">*</span> <span class="ow">or</span> <span class="mi">8</span> <span class="n">byte</span> <span class="n">chunks</span><span class="o">.</span>
     <span class="o">*/</span>
<span class="o">.</span><span class="n">Lloop</span><span class="p">:</span>
    <span class="n">REG_L</span>   <span class="n">a2</span><span class="p">,</span> <span class="n">SZREG</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
    <span class="n">addi</span>    <span class="n">a1</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">SZREG</span>
    <span class="n">orc</span><span class="o">.</span><span class="n">b</span>   <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
    <span class="n">beq</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a4</span><span class="p">,</span> <span class="o">.</span><span class="n">Lloop</span>

<span class="o">.</span><span class="n">Lepilogue</span><span class="p">:</span>
    <span class="ow">not</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
<span class="c1">#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
    <span class="n">ctz</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
<span class="c1">#else</span>
    <span class="n">clz</span>     <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
<span class="c1">#endif</span>
    <span class="n">sub</span>     <span class="n">a1</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a3</span>
    <span class="n">add</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a1</span>
    <span class="n">srli</span>    <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="mi">3</span>
    <span class="n">add</span>     <span class="n">a0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a2</span>
<span class="o">.</span><span class="n">Ldone</span><span class="p">:</span>
    <span class="n">ret</span>
</pre></div>
</div>
</div>
<div class="section" id="strcmp">
<h3>strcmp<a class="headerlink" href="#strcmp" title="Permalink to this headline">¶</a></h3>
<div class="code asm highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;sys/asm.h&gt;</span>

  <span class="o">.</span><span class="n">text</span>
  <span class="o">.</span><span class="n">globl</span> <span class="n">strcmp</span>
  <span class="o">.</span><span class="n">type</span>  <span class="n">strcmp</span><span class="p">,</span> <span class="nd">@function</span>
<span class="n">strcmp</span><span class="p">:</span>
  <span class="ow">or</span>    <span class="n">a4</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a1</span>
  <span class="n">li</span>    <span class="n">t2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
  <span class="ow">and</span>   <span class="n">a4</span><span class="p">,</span> <span class="n">a4</span><span class="p">,</span> <span class="n">SZREG</span><span class="o">-</span><span class="mi">1</span>
  <span class="n">bnez</span>  <span class="n">a4</span><span class="p">,</span> <span class="o">.</span><span class="n">Lsimpleloop</span>

  <span class="c1"># Main loop for aligned strings</span>
<span class="o">.</span><span class="n">Lloop</span><span class="p">:</span>
  <span class="n">REG_L</span> <span class="n">a2</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
  <span class="n">REG_L</span> <span class="n">a3</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
  <span class="n">orc</span><span class="o">.</span><span class="n">b</span> <span class="n">t0</span><span class="p">,</span> <span class="n">a2</span>
  <span class="n">bne</span>   <span class="n">t0</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="o">.</span><span class="n">Lfoundnull</span>
  <span class="n">addi</span>  <span class="n">a0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">SZREG</span>
  <span class="n">addi</span>  <span class="n">a1</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">SZREG</span>
  <span class="n">beq</span>   <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">,</span> <span class="o">.</span><span class="n">Lloop</span>

  <span class="c1"># Words don&#39;t match, and no null byte in first word.</span>
  <span class="c1"># Get bytes in big-endian order and compare.</span>
<span class="c1">#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
  <span class="n">rev8</span>  <span class="n">a2</span><span class="p">,</span> <span class="n">a2</span>
  <span class="n">rev8</span>  <span class="n">a3</span><span class="p">,</span> <span class="n">a3</span>
<span class="c1">#endif</span>
  <span class="c1"># Synthesize (a2 &gt;= a3) ? 1 : -1 in a branchless sequence.</span>
  <span class="n">sltu</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span>
  <span class="n">neg</span>  <span class="n">a0</span><span class="p">,</span> <span class="n">a0</span>
  <span class="n">ori</span>  <span class="n">a0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="mi">1</span>
  <span class="n">ret</span>

<span class="o">.</span><span class="n">Lfoundnull</span><span class="p">:</span>
  <span class="c1"># Found a null byte.</span>
  <span class="c1"># If words don&#39;t match, fall back to simple loop.</span>
  <span class="n">bne</span>   <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">,</span> <span class="o">.</span><span class="n">Lsimpleloop</span>

  <span class="c1"># Otherwise, strings are equal.</span>
  <span class="n">li</span>    <span class="n">a0</span><span class="p">,</span> <span class="mi">0</span>
  <span class="n">ret</span>

  <span class="c1"># Simple loop for misaligned strings</span>
<span class="o">.</span><span class="n">Lsimpleloop</span><span class="p">:</span>
  <span class="n">lbu</span>   <span class="n">a2</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
  <span class="n">lbu</span>   <span class="n">a3</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
  <span class="n">addi</span>  <span class="n">a0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="mi">1</span>
  <span class="n">addi</span>  <span class="n">a1</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="mi">1</span>
  <span class="n">bne</span>   <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">,</span> <span class="mi">1</span><span class="n">f</span>
  <span class="n">bnez</span>  <span class="n">a2</span><span class="p">,</span> <span class="o">.</span><span class="n">Lsimpleloop</span>

<span class="mi">1</span><span class="p">:</span>
  <span class="n">sub</span>   <span class="n">a0</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span>
  <span class="n">ret</span>

<span class="o">.</span><span class="n">size</span>   <span class="n">strcmp</span><span class="p">,</span> <span class="o">.-</span><span class="n">strcmp</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, RISC-V.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>